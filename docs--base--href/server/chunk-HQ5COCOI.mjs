import './polyfills.server.mjs';
import{a as D}from"./chunk-Y65ICD5B.mjs";import{a as A}from"./chunk-KBWFD5YG.mjs";import{a as j}from"./chunk-JCNCNTQR.mjs";import"./chunk-GTSSCL6B.mjs";import"./chunk-JNO7ST2A.mjs";import{l as V}from"./chunk-NPX6L2HG.mjs";import{o as F}from"./chunk-Q2MC4KZB.mjs";import{Ab as _,Hb as a,Ib as w,Ma as S,Ob as k,Qa as l,Qb as W,Ub as L,Wb as E,Y as m,aa as C,gb as g,ib as u,ka as d,la as p,mb as f,nb as b,ob as y,pb as I,qb as o,rb as c,sb as h,vb as T,zb as v}from"./chunk-BPW7ZSEQ.mjs";import"./chunk-VVCT4QZE.mjs";var O=i=>["/details",i];function $(i,r){i&1&&(o(0,"div",1)(1,"h2",4),a(2,"My WishList"),c()())}function M(i,r){i&1&&(o(0,"div",2),h(1,"img",5),c())}function N(i,r){if(i&1){let s=T();o(0,"div",3)(1,"div",6),h(2,"img",7),c(),o(3,"div",8)(4,"div")(5,"h5",4),a(6),c(),o(7,"h6",9),a(8),L(9,"currency"),c(),o(10,"button",10),v("click",function(){let e=d(s).$implicit,n=_();return p(n.deleteItem(e.id))})("click",function(){let e=d(s).$implicit,n=_();return p(n.getID(e.id))}),h(11,"i",11),a(12," Remove"),c()(),o(13,"div")(14,"button",12),v("click",function(){let e=d(s).$implicit,n=_();return p(n.addToCart(e.id))}),a(15,"Add To Cart"),c()()()()}if(i&2){let s=r.$implicit;l(),u("routerLink",W(8,O,s.id)),l(),u("src",s.imageCover,S)("alt",s.title),l(4),w(s.title),l(2),w(E(9,5,s.price,"EGP"))}}var H=(()=>{let r=class r{constructor(){this._WishlistService=m(D),this._CartService=m(A),this._ToastrService=m(j),this.wishListItems=[]}clearAll(){this.wishListItems=[]}ngOnInit(){this.wish()}wish(){this._WishlistService.getAllWishList().subscribe({next:t=>{this.wishListItems=t.data}})}getID(t){return t}deleteItem(t){this._WishlistService.deleteItemWish(t).subscribe({next:e=>{this.wish();let n=localStorage.getItem("wishlist");if(n){let x=new Set(JSON.parse(n));x.delete(t),localStorage.setItem("wishlist",JSON.stringify(Array.from(x)))}}})}addToCart(t){this._CartService.addProductToCart(t).subscribe({next:e=>{this._ToastrService.success(e.message,"FreshCart"),this._CartService.cartNumber.next(e.numOfCartItems)}})}};r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=C({type:r,selectors:[["app-wishlist"]],standalone:!0,features:[k],decls:6,vars:2,consts:[[1,"container","py-5","my-5","p-5","rounded-4"],[1,"d-flex","align-items-center","justify-content-between"],[1,"shadow","my-3","p-2","text-center"],[1,"row","shadow","my-3","d-flex","align-items-center","p-2"],[1,"text-main"],["src","./assets/images/wishEmpty.jpg","alt","",1,"w-50"],[1,"col-md-2","cr",3,"routerLink"],[1,"w-100",3,"src","alt"],[1,"col-md-10","d-flex","justify-content-between"],[1,"text-success"],[1,"btn","btn-sm","m-0","p-0","text-danger","d-block",3,"click"],[1,"fa","fa-trash"],[1,"btn-main","btn","d-block","mx-auto",3,"click"]],template:function(e,n){e&1&&(o(0,"section")(1,"div",0),g(2,$,3,0,"div",1)(3,M,2,0,"div",2),y(4,N,16,10,"div",3,b),c()()),e&2&&(l(2),f(2,n.wishListItems.length>1?2:-1),l(),f(3,n.wishListItems.length<1?3:-1),l(),I(n.wishListItems))},dependencies:[F,V]});let i=r;return i})();export{H as WishlistComponent};
